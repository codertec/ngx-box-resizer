{"version":3,"file":"ngx-box-resizer.umd.js","sources":["../../../projects/box-resizer/src/lib/box-resizer.service.ts","../../../projects/box-resizer/src/lib/box-resizer.directive.ts","../../../projects/box-resizer/src/lib/box-resizer.module.ts","../../../projects/box-resizer/src/public-api.ts","../../../projects/box-resizer/src/ngx-box-resizer.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BoxResizerService {\n\n  constructor() { }\n}\n","import { Directive, ElementRef, Input, Renderer2 } from \"@angular/core\";\n\nexport interface boxReSizeInput {\n  xResizer?: boolean;\n  xMinWidth?: number;\n  xMaxWidth?: number;\n  xDragIndicator? : any;\n\n  yResizer?: boolean;\n  yMinHeight?: number;\n  yMaxHeight?: number;\n  yDragIndicator? : any;\n}\n\n@Directive({\n  selector: \"[boxResizer]\",\n})\nexport class ResizerDirective {\n\n  @Input() boxReSizeInput: boxReSizeInput | undefined;\n  reSizeInput: boxReSizeInput = {};\n\n  listenerMouseMove: (() => void) | undefined;\n\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) {}\n\n  private captureInputs() {\n    this.reSizeInput.xResizer =\n      this.boxReSizeInput && this.boxReSizeInput.yResizer\n        ? this.boxReSizeInput.yResizer\n        : true;\n    this.reSizeInput.xMinWidth =\n      this.boxReSizeInput && this.boxReSizeInput.xMinWidth\n        ? this.boxReSizeInput.xMinWidth\n        : 30;\n    this.reSizeInput.xMaxWidth =\n      this.boxReSizeInput && this.boxReSizeInput.xMaxWidth\n        ? this.boxReSizeInput.xMaxWidth\n        : 400;\n    \n    this.reSizeInput.xDragIndicator = this.boxReSizeInput && this.boxReSizeInput.xDragIndicator\n    ? this.boxReSizeInput.xDragIndicator\n    : `<div style=\"position: absolute;\n    height: 100%;\n    width: 10px;\n    background: #e7e7e7;\n    cursor: e-resize;\n    top: 0px;\n    right: 0px;\"></div>`\n\n    this.reSizeInput.yResizer =\n      this.boxReSizeInput && this.boxReSizeInput.yResizer\n        ? this.boxReSizeInput.yResizer\n        : false;\n    this.reSizeInput.yMinHeight =\n      this.boxReSizeInput && this.boxReSizeInput.yMinHeight\n        ? this.boxReSizeInput.yMinHeight\n        : 200;\n    this.reSizeInput.yMaxHeight =\n      this.boxReSizeInput && this.boxReSizeInput.yMaxHeight\n        ? this.boxReSizeInput.yMaxHeight\n        : 800;\n\n    this.reSizeInput.yDragIndicator = this.boxReSizeInput && this.boxReSizeInput.yDragIndicator\n    ? this.boxReSizeInput.yDragIndicator\n    : `<div style=\"position: absolute;\n        height: 10px;\n        width: 100%;\n        background: #e7e7e7;\n        cursor: n-resize;\n        bottom: 0px;\n        left: 0px;\"></div>`\n  }\n\n  ngOnInit() {\n    this.captureInputs();\n    if (this.reSizeInput && this.reSizeInput.xResizer) {\n      this.onResizeX();\n    }\n    if (this.reSizeInput && this.reSizeInput.yResizer) {\n      this.onResizeY();\n    }\n  }\n\n  onResizeX() {\n    const childX = window.document.createElement(\"box-resizer-drag-x\");\n    childX.innerHTML = this.reSizeInput.xDragIndicator;\n    this.renderer.setStyle(\n      this.elementRef.nativeElement,\n      \"position\",\n      \"relative\"\n    );\n    this.renderer.setStyle(this.elementRef.nativeElement, \"flex\", `initial`);\n    this.renderer.appendChild(this.elementRef.nativeElement, childX);\n    this.renderer.listen(window.document, \"mouseup\", (event: MouseEvent) => {\n      if (this.listenerMouseMove) {\n        this.listenerMouseMove();\n        this.noSelectCssToogle(false);\n      }\n    });\n\n    this.renderer.listen(childX, \"mousedown\", (event: MouseEvent) => {\n      this.noSelectCssToogle(true);\n      // this.onResizeX();\n      this.listenerMouseMove = this.renderer.listen(\n        window.document,\n        \"mousemove\",\n        (event: MouseEvent) => {\n          let width: any =\n            event.clientX -\n            this.elementRef.nativeElement.getBoundingClientRect().left;\n          if ((this.reSizeInput && this.reSizeInput.xMinWidth) && (width < this.reSizeInput.xMinWidth)) {\n            width = this.reSizeInput.xMinWidth;\n          }\n          if ((this.reSizeInput && this.reSizeInput.xMaxWidth) && (width > this.reSizeInput.xMaxWidth)) {\n            width = this.reSizeInput.xMaxWidth;\n          }\n          this.elementRef.nativeElement.style.width = width + \"px\";\n        }\n      );\n    });\n  }\n\n  onResizeY() {\n    const childX = window.document.createElement(\"box-resizer-drag-y\");\n    childX.innerHTML = this.reSizeInput && this.reSizeInput.yDragIndicator;\n    this.renderer.setStyle(\n      this.elementRef.nativeElement,\n      \"position\",\n      \"relative\"\n    );\n    this.renderer.setStyle(this.elementRef.nativeElement, \"flex\", `initial`);\n    this.renderer.appendChild(this.elementRef.nativeElement, childX);\n    this.renderer.listen(window.document, \"mouseup\", (event: MouseEvent) => {\n      if (this.listenerMouseMove) {\n        this.listenerMouseMove();\n        this.noSelectCssToogle(false);\n      }\n    });\n\n    this.renderer.listen(childX, \"mousedown\", (event: MouseEvent) => {\n      this.noSelectCssToogle(true);\n      // this.onResizeX();\n      this.listenerMouseMove = this.renderer.listen(\n        window.document,\n        \"mousemove\",\n        (event: MouseEvent) => {\n          let height =\n            event.clientY -\n            this.elementRef.nativeElement.getBoundingClientRect().top;\n          if ((this.reSizeInput && this.reSizeInput.yMinHeight) && (height < this.reSizeInput.yMinHeight)) {\n            height = this.reSizeInput.yMinHeight;\n          }\n          if ((this.reSizeInput && this.reSizeInput.yMaxHeight) && (height > this.reSizeInput.yMaxHeight)) {\n            height = this.reSizeInput.yMaxHeight;\n          }\n          this.elementRef.nativeElement.style.height = height + \"px\";\n        }\n      );\n    });\n  }\n\n\n  noSelectCssToogle(value: boolean) {\n    const sheet = window.document.styleSheets[0];\n    if (value) {\n      sheet.insertRule(\n        `body { -webkit-touch-callout: none;\n          -webkit-user-select: none;\n          -khtml-user-select: none;\n            -moz-user-select: none;\n              -ms-user-select: none;\n                  user-select: none;; }`,\n        0\n      );\n    } else {\n      sheet.removeRule(0);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ResizerDirective } from './box-resizer.directive';\n\n\n\n@NgModule({\n  declarations: [ResizerDirective],\n  imports: [\n  ],\n  exports: [ResizerDirective]\n})\nexport class BoxResizerModule { }\n","/*\n * Public API Surface of box-resizer\n */\n\nexport * from './lib/box-resizer.service';\nexport * from './lib/box-resizer.directive';\nexport * from './lib/box-resizer.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","Directive","Renderer2","ElementRef","Input","NgModule"],"mappings":"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"}