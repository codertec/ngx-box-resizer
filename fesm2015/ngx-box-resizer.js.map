{"version":3,"file":"ngx-box-resizer.js","sources":["../../../projects/box-resizer/src/lib/box-resizer.service.ts","../../../projects/box-resizer/src/lib/box-resizer.directive.ts","../../../projects/box-resizer/src/lib/box-resizer.module.ts","../../../projects/box-resizer/src/public-api.ts","../../../projects/box-resizer/src/ngx-box-resizer.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BoxResizerService {\n\n  constructor() { }\n}\n","import { Directive, ElementRef, Input, Renderer2 } from \"@angular/core\";\n\nexport interface boxReSizeInput {\n  xResizer?: boolean;\n  xMinWidth?: number;\n  xMaxWidth?: number;\n  xDragIndicator? : any;\n\n  yResizer?: boolean;\n  yMinHeight?: number;\n  yMaxHeight?: number;\n  yDragIndicator? : any;\n}\n\n@Directive({\n  selector: \"[boxResizer]\",\n})\nexport class ResizerDirective {\n\n  @Input() boxReSizeInput: boxReSizeInput | undefined;\n  reSizeInput: boxReSizeInput = {};\n\n  listenerMouseMove: (() => void) | undefined;\n\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) {}\n\n  private captureInputs() {\n    this.reSizeInput.xResizer =\n      this.boxReSizeInput && this.boxReSizeInput.yResizer\n        ? this.boxReSizeInput.yResizer\n        : true;\n    this.reSizeInput.xMinWidth =\n      this.boxReSizeInput && this.boxReSizeInput.xMinWidth\n        ? this.boxReSizeInput.xMinWidth\n        : 30;\n    this.reSizeInput.xMaxWidth =\n      this.boxReSizeInput && this.boxReSizeInput.xMaxWidth\n        ? this.boxReSizeInput.xMaxWidth\n        : 400;\n    \n    this.reSizeInput.xDragIndicator = this.boxReSizeInput && this.boxReSizeInput.xDragIndicator\n    ? this.boxReSizeInput.xDragIndicator\n    : `<div style=\"position: absolute;\n    height: 100%;\n    width: 10px;\n    background: #e7e7e7;\n    cursor: e-resize;\n    top: 0px;\n    right: 0px;\"></div>`\n\n    this.reSizeInput.yResizer =\n      this.boxReSizeInput && this.boxReSizeInput.yResizer\n        ? this.boxReSizeInput.yResizer\n        : false;\n    this.reSizeInput.yMinHeight =\n      this.boxReSizeInput && this.boxReSizeInput.yMinHeight\n        ? this.boxReSizeInput.yMinHeight\n        : 200;\n    this.reSizeInput.yMaxHeight =\n      this.boxReSizeInput && this.boxReSizeInput.yMaxHeight\n        ? this.boxReSizeInput.yMaxHeight\n        : 800;\n\n    this.reSizeInput.yDragIndicator = this.boxReSizeInput && this.boxReSizeInput.yDragIndicator\n    ? this.boxReSizeInput.yDragIndicator\n    : `<div style=\"position: absolute;\n        height: 10px;\n        width: 100%;\n        background: #e7e7e7;\n        cursor: n-resize;\n        bottom: 0px;\n        left: 0px;\"></div>`\n  }\n\n  ngOnInit() {\n    this.captureInputs();\n    if (this.reSizeInput && this.reSizeInput.xResizer) {\n      this.onResizeX();\n    }\n    if (this.reSizeInput && this.reSizeInput.yResizer) {\n      this.onResizeY();\n    }\n  }\n\n  onResizeX() {\n    const childX = window.document.createElement(\"box-resizer-drag-x\");\n    childX.innerHTML = this.reSizeInput.xDragIndicator;\n    this.renderer.setStyle(\n      this.elementRef.nativeElement,\n      \"position\",\n      \"relative\"\n    );\n    this.renderer.setStyle(this.elementRef.nativeElement, \"flex\", `initial`);\n    this.renderer.appendChild(this.elementRef.nativeElement, childX);\n    this.renderer.listen(window.document, \"mouseup\", (event: MouseEvent) => {\n      if (this.listenerMouseMove) {\n        this.listenerMouseMove();\n        this.noSelectCssToogle(false);\n      }\n    });\n\n    this.renderer.listen(childX, \"mousedown\", (event: MouseEvent) => {\n      this.noSelectCssToogle(true);\n      // this.onResizeX();\n      this.listenerMouseMove = this.renderer.listen(\n        window.document,\n        \"mousemove\",\n        (event: MouseEvent) => {\n          let width: any =\n            event.clientX -\n            this.elementRef.nativeElement.getBoundingClientRect().left;\n          if ((this.reSizeInput && this.reSizeInput.xMinWidth) && (width < this.reSizeInput.xMinWidth)) {\n            width = this.reSizeInput.xMinWidth;\n          }\n          if ((this.reSizeInput && this.reSizeInput.xMaxWidth) && (width > this.reSizeInput.xMaxWidth)) {\n            width = this.reSizeInput.xMaxWidth;\n          }\n          this.elementRef.nativeElement.style.width = width + \"px\";\n        }\n      );\n    });\n  }\n\n  onResizeY() {\n    const childX = window.document.createElement(\"box-resizer-drag-y\");\n    childX.innerHTML = this.reSizeInput && this.reSizeInput.yDragIndicator;\n    this.renderer.setStyle(\n      this.elementRef.nativeElement,\n      \"position\",\n      \"relative\"\n    );\n    this.renderer.setStyle(this.elementRef.nativeElement, \"flex\", `initial`);\n    this.renderer.appendChild(this.elementRef.nativeElement, childX);\n    this.renderer.listen(window.document, \"mouseup\", (event: MouseEvent) => {\n      if (this.listenerMouseMove) {\n        this.listenerMouseMove();\n        this.noSelectCssToogle(false);\n      }\n    });\n\n    this.renderer.listen(childX, \"mousedown\", (event: MouseEvent) => {\n      this.noSelectCssToogle(true);\n      // this.onResizeX();\n      this.listenerMouseMove = this.renderer.listen(\n        window.document,\n        \"mousemove\",\n        (event: MouseEvent) => {\n          let height =\n            event.clientY -\n            this.elementRef.nativeElement.getBoundingClientRect().top;\n          if ((this.reSizeInput && this.reSizeInput.yMinHeight) && (height < this.reSizeInput.yMinHeight)) {\n            height = this.reSizeInput.yMinHeight;\n          }\n          if ((this.reSizeInput && this.reSizeInput.yMaxHeight) && (height > this.reSizeInput.yMaxHeight)) {\n            height = this.reSizeInput.yMaxHeight;\n          }\n          this.elementRef.nativeElement.style.height = height + \"px\";\n        }\n      );\n    });\n  }\n\n\n  noSelectCssToogle(value: boolean) {\n    const sheet = window.document.styleSheets[0];\n    if (value) {\n      sheet.insertRule(\n        `body { -webkit-touch-callout: none;\n          -webkit-user-select: none;\n          -khtml-user-select: none;\n            -moz-user-select: none;\n              -ms-user-select: none;\n                  user-select: none;; }`,\n        0\n      );\n    } else {\n      sheet.removeRule(0);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ResizerDirective } from './box-resizer.directive';\n\n\n\n@NgModule({\n  declarations: [ResizerDirective],\n  imports: [\n  ],\n  exports: [ResizerDirective]\n})\nexport class BoxResizerModule { }\n","/*\n * Public API Surface of box-resizer\n */\n\nexport * from './lib/box-resizer.service';\nexport * from './lib/box-resizer.directive';\nexport * from './lib/box-resizer.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}